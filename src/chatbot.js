const TelegramChannelService = require('./telegram-channel');

class ChatbotService {
  static async processMessage(message, sessionId) {
    console.log(`–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–æ–º: "${message}"`);
    
    try {
      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —è–∑—ã–∫ —Å–æ–æ–±—â–µ–Ω–∏—è
      const language = this.detectLanguage(message);
      console.log(`–û–ø—Ä–µ–¥–µ–ª–µ–Ω —è–∑—ã–∫: ${language}`);
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
      const propertiesRequest = this.detectPropertiesRequest(message);
      
      if (propertiesRequest) {
        const properties = await TelegramChannelService.getProperties(propertiesRequest.filters);
        return this.formatPropertiesResponse(properties, language, propertiesRequest.filters);
      }
      
      // –ü–æ–ª—É—á–∞–µ–º –æ–±—ã—á–Ω—ã–π –æ—Ç–≤–µ—Ç
      return this.getSmartResponse(message, language);
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–æ–º:', error);
      return 'Sorry, an error occurred. Please try again.';
    }
  }

  static detectLanguage(message) {
    const lowerMessage = message.toLowerCase();
    
    // –†—É—Å—Å–∫–∏–µ —Å–ª–æ–≤–∞
    const russianWords = ['–ø—Ä–∏–≤–µ—Ç', '–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ', '–∫–≤–∞—Ä—Ç–∏—Ä', '–¥–æ–º', '–≤–∏–ª–ª', '–∞—Ä–µ–Ω–¥', '–ø—Ä–æ–¥–∞', '—Ü–µ–Ω–∞', '—Å—Ç–æ–∏–º–æ—Å—Ç—å', '—Å–ø–∞—Å–∏–±–æ', '–∫–æ–Ω—Ç–∞–∫—Ç', '–º–µ–Ω–µ–¥–∂–µ—Ä'];
    // –ê—Ä–∞–±—Å–∫–∏–µ —Å–ª–æ–≤–∞
    const arabicWords = ['ŸÖÿ±ÿ≠ÿ®ÿß', 'ÿ¥ŸÇÿ©', 'ÿ®Ÿäÿ™', 'ŸÅŸäŸÑÿß', 'ÿ•Ÿäÿ¨ÿßÿ±', 'ÿ®Ÿäÿπ', 'ÿ≥ÿπÿ±', 'ÿ¥ŸÉÿ±ÿß', 'ÿßÿ™ÿµÿßŸÑ', 'ŸÖÿØŸäÿ±'];
    // –ù–µ–º–µ—Ü–∫–∏–µ —Å–ª–æ–≤–∞
    const germanWords = ['hallo', 'wohnung', 'haus', 'villa', 'miete', 'verkauf', 'preis', 'danke', 'kontakt', 'manager'];
    // –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–µ —Å–ª–æ–≤–∞
    const frenchWords = ['bonjour', 'appartement', 'maison', 'villa', 'location', 'vente', 'prix', 'merci', 'contact', 'gestionnaire'];
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Å–ª–æ–≤ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö
    if (russianWords.some(word => lowerMessage.includes(word))) {
      return 'ru';
    }
    if (arabicWords.some(word => lowerMessage.includes(word))) {
      return 'ar';
    }
    if (germanWords.some(word => lowerMessage.includes(word))) {
      return 'de';
    }
    if (frenchWords.some(word => lowerMessage.includes(word))) {
      return 'fr';
    }
    
    // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
    return 'en';
  }

  static detectPropertiesRequest(message) {
    const lowerMessage = message.toLowerCase();
    
    // –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
    const propertyKeywords = [
      'apartment', 'flat', 'condo', '–∫–≤–∞—Ä—Ç–∏—Ä', '–∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç',
      'villa', 'house', 'home', '–≤–∏–ª–ª', '–¥–æ–º',
      'rent', 'rental', 'lease', '–∞—Ä–µ–Ω–¥', '—Å–Ω—è—Ç—å',
      'buy', 'purchase', 'sale', '–ø—Ä–æ–¥–∞', '–∫—É–ø–∏—Ç—å',
      'property', 'real estate', '–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å'
    ];
    
    const hasPropertyKeyword = propertyKeywords.some(keyword => lowerMessage.includes(keyword));
    
    if (!hasPropertyKeyword) return null;
    
    // –ò–∑–≤–ª–µ–∫–∞–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
    const filters = {};
    
    // –¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
    if (lowerMessage.includes('apartment') || lowerMessage.includes('–∫–≤–∞—Ä—Ç–∏—Ä') || lowerMessage.includes('–∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç')) {
      filters.type = 'apartment';
    } else if (lowerMessage.includes('villa') || lowerMessage.includes('–≤–∏–ª–ª') || lowerMessage.includes('–¥–æ–º')) {
      filters.type = 'villa';
    } else if (lowerMessage.includes('rent') || lowerMessage.includes('–∞—Ä–µ–Ω–¥') || lowerMessage.includes('—Å–Ω—è—Ç—å')) {
      filters.type = 'rent';
    }
    
    // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç
    const roomPatterns = [
      /(\d+)\s*(bed|room|–∫–æ–º–Ω–∞—Ç|—Å–ø–∞–ª–µ–Ω)/i,
      /(\d+)\s*br/i,
      /(\d+)\s*bedroom/i
    ];
    
    for (const pattern of roomPatterns) {
      const match = message.match(pattern);
      if (match) {
        filters.rooms = parseInt(match[1]);
        break;
      }
    }
    
    // –¶–µ–Ω–∞
    const pricePatterns = [
      /under\s*\$?(\d+(?:,\d{3})*)/i,
      /below\s*\$?(\d+(?:,\d{3})*)/i,
      /–¥–æ\s*\$?(\d+(?:,\d{3})*)/i,
      /–º–µ–Ω–µ–µ\s*\$?(\d+(?:,\d{3})*)/i
    ];
    
    for (const pattern of pricePatterns) {
      const match = message.match(pattern);
      if (match) {
        filters.price_max = parseInt(match[1].replace(/,/g, ''));
        break;
      }
    }
    
    return { filters };
  }

  static async formatPropertiesResponse(properties, language, filters) {
    if (properties.length === 0) {
      return this.getNoPropertiesResponse(language, filters);
    }
    
    const responses = {
      en: this.formatEnglishProperties(properties, filters),
      ru: this.formatRussianProperties(properties, filters),
      ar: this.formatArabicProperties(properties, filters),
      de: this.formatGermanProperties(properties, filters),
      fr: this.formatFrenchProperties(properties, filters)
    };
    
    return responses[language] || responses.en;
  }

  static formatEnglishProperties(properties, filters) {
    let response = `üè† Found ${properties.length} properties for you:\n\n`;
    
    properties.slice(0, 5).forEach((prop, index) => {
      response += `${index + 1}. ${prop.type === 'apartment' ? 'üè¢' : prop.type === 'villa' ? 'üèñÔ∏è' : 'üè†'} `;
      response += `${prop.type.charAt(0).toUpperCase() + prop.type.slice(1)}`;
            if (prop.rooms) response += ` - ${prop.rooms} bedroom${prop.rooms > 1 ? 's' : ''}`;
      if (prop.price) response += ` - $${prop.price.toLocaleString()}`;
      if (prop.area) response += ` - ${prop.area}`;
      response += `\n${prop.text.substring(0, 100)}...\n\n`;
    });
    
    if (properties.length > 5) {
      response += `... and ${properties.length - 5} more properties available.\n\n`;
    }
    
    response += `Would you like to see more details about any of these properties?`;
    
    return response;
  }

  static formatRussianProperties(properties, filters) {
    let response = `üè† –ù–∞–π–¥–µ–Ω–æ ${properties.length} –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏:\n\n`;
    
    properties.slice(0, 5).forEach((prop, index) => {
      response += `${index + 1}. ${prop.type === 'apartment' ? 'üè¢' : prop.type === 'villa' ? 'üèñÔ∏è' : 'üè†'} `;
      response += `${prop.type === 'apartment' ? '–ö–≤–∞—Ä—Ç–∏—Ä–∞' : prop.type === 'villa' ? '–í–∏–ª–ª–∞' : '–ê—Ä–µ–Ω–¥–∞'}`;
      if (prop.rooms) response += ` - ${prop.rooms} ${prop.rooms === 1 ? '—Å–ø–∞–ª—å–Ω—è' : prop.rooms < 5 ? '—Å–ø–∞–ª—å–Ω–∏' : '—Å–ø–∞–ª–µ–Ω'}`;
      if (prop.price) response += ` - $${prop.price.toLocaleString()}`;
      if (prop.area) response += ` - ${prop.area}`;
      response += `\n${prop.text.substring(0, 100)}...\n\n`;
    });
    
    if (properties.length > 5) {
      response += `... –∏ –µ—â–µ ${properties.length - 5} –æ–±—ä–µ–∫—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ.\n\n`;
    }
    
    response += `–•–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π –æ –∫–∞–∫–æ–º-–ª–∏–±–æ –∏–∑ —ç—Ç–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤?`;
    
    return response;
  }

  static formatArabicProperties(properties, filters) {
    let response = `üè† ÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ${properties.length} ÿπŸÇÿßÿ±:\n\n`;
    
    properties.slice(0, 5).forEach((prop, index) => {
      response += `${index + 1}. ${prop.type === 'apartment' ? 'üè¢' : prop.type === 'villa' ? 'üèñÔ∏è' : 'üè†'} `;
      response += `${prop.type === 'apartment' ? 'ÿ¥ŸÇÿ©' : prop.type === 'villa' ? 'ŸÅŸäŸÑÿß' : 'ÿ•Ÿäÿ¨ÿßÿ±'}`;
      if (prop.rooms) response += ` - ${prop.rooms} ÿ∫ÿ±ŸÅÿ© ŸÜŸàŸÖ`;
      if (prop.price) response += ` - $${prop.price.toLocaleString()}`;
      if (prop.area) response += ` - ${prop.area}`;
      response += `\n${prop.text.substring(0, 100)}...\n\n`;
    });
    
    if (properties.length > 5) {
      response += `... Ÿà ${properties.length - 5} ÿπŸÇÿßÿ±ÿßÿ™ ÿ£ÿÆÿ±Ÿâ ŸÖÿ™ÿßÿ≠ÿ©.\n\n`;
    }
    
    response += `ŸáŸÑ ÿ™ÿ±ŸäÿØ ŸÖÿπÿ±ŸÅÿ© ÿßŸÑŸÖÿ≤ŸäÿØ ŸÖŸÜ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ ÿπŸÜ ÿ£Ÿä ŸÖŸÜ Ÿáÿ∞Ÿá ÿßŸÑÿπŸÇÿßÿ±ÿßÿ™ÿü`;
    
    return response;
  }

  static formatGermanProperties(properties, filters) {
    let response = `üè† ${properties.length} Immobilien gefunden:\n\n`;
    
    properties.slice(0, 5).forEach((prop, index) => {
      response += `${index + 1}. ${prop.type === 'apartment' ? 'üè¢' : prop.type === 'villa' ? 'üèñÔ∏è' : 'üè†'} `;
      response += `${prop.type === 'apartment' ? 'Wohnung' : prop.type === 'villa' ? 'Villa' : 'Miete'}`;
      if (prop.rooms) response += ` - ${prop.rooms} Schlafzimmer`;
      if (prop.price) response += ` - $${prop.price.toLocaleString()}`;
      if (prop.area) response += ` - ${prop.area}`;
      response += `\n${prop.text.substring(0, 100)}...\n\n`;
    });
    
    if (properties.length > 5) {
      response += `... und ${properties.length - 5} weitere Immobilien verf√ºgbar.\n\n`;
    }
    
    response += `M√∂chten Sie mehr Details zu einer dieser Immobilien erfahren?`;
    
    return response;
  }

  static formatFrenchProperties(properties, filters) {
    let response = `üè† ${properties.length} propri√©t√©s trouv√©es:\n\n`;
    
    properties.slice(0, 5).forEach((prop, index) => {
      response += `${index + 1}. ${prop.type === 'apartment' ? 'üè¢' : prop.type === 'villa' ? 'üèñÔ∏è' : 'üè†'} `;
      response += `${prop.type === 'apartment' ? 'Appartement' : prop.type === 'villa' ? 'Villa' : 'Location'}`;
      if (prop.rooms) response += ` - ${prop.rooms} chambre${prop.rooms > 1 ? 's' : ''}`;
      if (prop.price) response += ` - $${prop.price.toLocaleString()}`;
      if (prop.area) response += ` - ${prop.area}`;
      response += `\n${prop.text.substring(0, 100)}...\n\n`;
    });
    
    if (properties.length > 5) {
      response += `... et ${properties.length - 5} autres propri√©t√©s disponibles.\n\n`;
    }
    
    response += `Voulez-vous plus de d√©tails sur l'une de ces propri√©t√©s?`;
    
    return response;
  }

  static getNoPropertiesResponse(language, filters) {
    const responses = {
      en: `Sorry, I couldn't find any properties matching your criteria. Try adjusting your search parameters or contact our manager for personalized assistance.`,
      ru: `–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ —Å–º–æ–≥ –Ω–∞–π—Ç–∏ –æ–±—ä–µ–∫—Ç—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–∞—à–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –Ω–∞—à–µ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É –∑–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–º–æ—â—å—é.`,
      ar: `ÿπÿ∞ÿ±ÿßŸãÿå ŸÑŸÖ ÿ£ÿ™ŸÖŸÉŸÜ ŸÖŸÜ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿπŸÇÿßÿ±ÿßÿ™ ÿ™ÿ∑ÿßÿ®ŸÇ ŸÖÿπÿßŸäŸäÿ±ŸÉ. ÿ¨ÿ±ÿ® ÿ™ÿπÿØŸäŸÑ ŸÖÿπÿßŸäŸäÿ± ÿßŸÑÿ®ÿ≠ÿ´ ÿ£Ÿà ÿßÿ™ÿµŸÑ ÿ®ŸÖÿØŸäÿ±ŸÜÿß ŸÑŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ŸÖÿ≥ÿßÿπÿØÿ© ÿ¥ÿÆÿµŸäÿ©.`,
      de: `Entschuldigung, ich konnte keine Immobilien finden, die Ihren Kriterien entsprechen. Versuchen Sie, Ihre Suchparameter anzupassen oder kontaktieren Sie unseren Manager f√ºr pers√∂nliche Hilfe.`,
      fr: `D√©sol√©, je n'ai pas pu trouver de propri√©t√©s correspondant √† vos crit√®res. Essayez d'ajuster vos param√®tres de recherche ou contactez notre gestionnaire pour une assistance personnalis√©e.`
    };
    
    return responses[language] || responses.en;
  }

  static getSmartResponse(message, language = 'en') {
    const lowerMessage = message.toLowerCase();
    
    // –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
    if (language === 'en') {
      return this.getEnglishResponse(lowerMessage);
    }
    
    // –†—É—Å—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã
    if (language === 'ru') {
      return this.getRussianResponse(lowerMessage);
    }
    
    // –ê—Ä–∞–±—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã
    if (language === 'ar') {
      return this.getArabicResponse(lowerMessage);
    }
    
    // –ù–µ–º–µ—Ü–∫–∏–µ –æ—Ç–≤–µ—Ç—ã
    if (language === 'de') {
      return this.getGermanResponse(lowerMessage);
    }
    
    // –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã
    if (language === 'fr') {
      return this.getFrenchResponse(lowerMessage);
    }
    
    // Fallback –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
    return this.getEnglishResponse(lowerMessage);
  }

  static getEnglishResponse(lowerMessage) {
    // Greeting
    if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey')) {
      return 'Hello! üëã I\'m Zizu, your real estate assistant in Hurghada. I can help you find apartments, villas, and rental properties. How can I assist you today?';
    }
    
    // Apartments
    if (lowerMessage.includes('apartment') || lowerMessage.includes('flat') || lowerMessage.includes('condo')) {
      return 'Great! I can help you find the perfect apartment. Please tell me:\n‚Ä¢ How many bedrooms do you need?\n‚Ä¢ Which area do you prefer?\n‚Ä¢ What\'s your budget?\n\nOr just say "show me apartments" to see available options!';
    }
    
    // Houses/Villas
    if (lowerMessage.includes('house') || lowerMessage.includes('villa') || lowerMessage.includes('home')) {
      return 'Excellent! We have amazing villas in Hurghada. Please specify:\n‚Ä¢ Number of bedrooms\n‚Ä¢ Do you need a pool?\n‚Ä¢ Distance from the sea\n‚Ä¢ Your budget\n\nOr say "show me villas" to see what\'s available!';
    }
    
    // Rent
    if (lowerMessage.includes('rent') || lowerMessage.includes('rental') || lowerMessage.includes('lease')) {
      return 'For rental properties, I need to know:\n‚Ä¢ Rental period (short-term/long-term)\n‚Ä¢ Number of guests\n‚Ä¢ Monthly budget\n‚Ä¢ Area preferences\n\nOr say "show me rentals" to see available options!';
    }
    
    // Buy
    if (lowerMessage.includes('buy') || lowerMessage.includes('purchase') || lowerMessage.includes('sale')) {
      return 'I\'ll help you find the perfect property to buy! Please tell me:\n‚Ä¢ Property type (apartment/villa)\n‚Ä¢ Number of bedrooms\n‚Ä¢ Preferred area\n‚Ä¢ Your budget\n\nOr say "show me properties for sale" to see what\'s available!';
    }
    
    // Price
    if (lowerMessage.includes('price') || lowerMessage.includes('cost') || lowerMessage.includes('expensive')) {
      return 'Prices depend on many factors:\n‚Ä¢ Property type\n‚Ä¢ Location\n‚Ä¢ Size\n‚Ä¢ Condition\n\nTell me about your requirements, and I\'ll find options within your budget!';
    }
    
    // Contact
    if (lowerMessage.includes('contact') || lowerMessage.includes('phone') || lowerMessage.includes('manager') || lowerMessage.includes('agent')) {
      return 'Of course! I\'ll connect you with our manager right away. They will contact you within 15 minutes with personalized recommendations.';
    }
    
    // Thank you
    if (lowerMessage.includes('thank') || lowerMessage.includes('thanks')) {
      return 'You\'re welcome! üòä Happy to help. If you have more questions, just ask!';
    }
    
    // Default
    return 'Interesting! I can help you find apartments, villas, and rental properties in Hurghada. What type of property are you looking for?';
  }

  static getRussianResponse(lowerMessage) {
    // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
    if (lowerMessage.includes('–ø—Ä–∏–≤–µ—Ç') || lowerMessage.includes('–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ') || lowerMessage.includes('–¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å')) {
      return '–ü—Ä–∏–≤–µ—Ç! üëã –Ø Zizu, –≤–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –•—É—Ä–≥–∞–¥–µ. –Ø –ø–æ–º–æ–≥—É –Ω–∞–π—Ç–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã, –≤–∏–ª–ª—ã –∏ –∞—Ä–µ–Ω–¥—É. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?';
    }
    
    // –ö–≤–∞—Ä—Ç–∏—Ä—ã
    if (lowerMessage.includes('–∫–≤–∞—Ä—Ç–∏—Ä') || lowerMessage.includes('–∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç')) {
      return '–û—Ç–ª–∏—á–Ω–æ! –Ø –ø–æ–º–æ–≥—É –Ω–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â—É—é –∫–≤–∞—Ä—Ç–∏—Ä—É. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ:\n‚Ä¢ –°–∫–æ–ª—å–∫–æ —Å–ø–∞–ª–µ–Ω –Ω—É–∂–Ω–æ?\n‚Ä¢ –í –∫–∞–∫–æ–º —Ä–∞–π–æ–Ω–µ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?\n‚Ä¢ –ö–∞–∫–æ–π –±—é–¥–∂–µ—Ç?\n\n–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏—Ç–µ "–ø–æ–∫–∞–∂–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã" –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤!';
    }
    
    // –î–æ–º–∞/–≤–∏–ª–ª—ã
    if (lowerMessage.includes('–¥–æ–º') || lowerMessage.includes('–≤–∏–ª–ª') || lowerMessage.includes('villa')) {
      return '–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ! –£ –Ω–∞—Å –µ—Å—Ç—å –æ—Ç–ª–∏—á–Ω—ã–µ –≤–∏–ª–ª—ã –≤ –•—É—Ä–≥–∞–¥–µ. –£—Ç–æ—á–Ω–∏—Ç–µ:\n‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–∞–ª–µ–Ω\n‚Ä¢ –ù—É–∂–µ–Ω –ª–∏ –±–∞—Å—Å–µ–π–Ω?\n‚Ä¢ –ë–ª–∏–∑–æ—Å—Ç—å –∫ –º–æ—Ä—é\n‚Ä¢ –ë—é–¥–∂–µ—Ç\n\n–ò–ª–∏ —Å–∫–∞–∂–∏—Ç–µ "–ø–æ–∫–∞–∂–∏ –≤–∏–ª–ª—ã" –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤!';
    }
    
    // –ê—Ä–µ–Ω–¥–∞
    if (lowerMessage.includes('–∞—Ä–µ–Ω–¥') || lowerMessage.includes('—Å–Ω—è—Ç—å') || lowerMessage.includes('rent')) {
      return '–î–ª—è –∞—Ä–µ–Ω–¥—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –Ω—É–∂–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:\n‚Ä¢ –ù–∞ –∫–∞–∫–æ–π —Å—Ä–æ–∫?\n‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π\n‚Ä¢ –ë—é–¥–∂–µ—Ç –≤ –º–µ—Å—è—Ü\n‚Ä¢ –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ —Ä–∞–π–æ–Ω—É\n\n–ò–ª–∏ —Å–∫–∞–∂–∏—Ç–µ "–ø–æ–∫–∞–∂–∏ –∞—Ä–µ–Ω–¥—É" –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤!';
    }
    
    // –ü—Ä–æ–¥–∞–∂–∞
    if (lowerMessage.includes('–ø—Ä–æ–¥–∞') || lowerMessage.includes('–∫—É–ø–∏—Ç—å') || lowerMessage.includes('buy')) {
      return '–ü–æ–º–æ–≥—É —Å –ø–æ–∫—É–ø–∫–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏! –£—Ç–æ—á–Ω–∏—Ç–µ:\n‚Ä¢ –¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ (–∫–≤–∞—Ä—Ç–∏—Ä–∞/–≤–∏–ª–ª–∞)\n‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–∞–ª–µ–Ω\n‚Ä¢ –†–∞–π–æ–Ω\n‚Ä¢ –ë—é–¥–∂–µ—Ç\n\n–ò–ª–∏ —Å–∫–∞–∂–∏—Ç–µ "–ø–æ–∫–∞–∂–∏ –ø—Ä–æ–¥–∞–∂—É" –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤!';
    }
    
    // –¶–µ–Ω–∞
    if (lowerMessage.includes('—Ü–µ–Ω–∞') || lowerMessage.includes('—Å—Ç–æ–∏–º–æ—Å—Ç—å') || lowerMessage.includes('price')) {
      return '–¶–µ–Ω—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –º–Ω–æ–≥–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤:\n‚Ä¢ –¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏\n‚Ä¢ –†–∞–π–æ–Ω\n‚Ä¢ –†–∞–∑–º–µ—Ä\n‚Ä¢ –°–æ—Å—Ç–æ—è–Ω–∏–µ\n\n–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö, –∏ —è –ø–æ–¥–±–µ—Ä—É –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤ –≤–∞—à–µ–º –±—é–¥–∂–µ—Ç–µ!';
    }
    
    // –ö–æ–Ω—Ç–∞–∫—Ç
    if (lowerMessage.includes('–∫–æ–Ω—Ç–∞–∫—Ç') || lowerMessage.includes('—Ç–µ–ª–µ—Ñ–æ–Ω') || lowerMessage.includes('–º–µ–Ω–µ–¥–∂–µ—Ä')) {
      return '–ö–æ–Ω–µ—á–Ω–æ! –°–µ–π—á–∞—Å –ø–µ—Ä–µ–¥–∞–º –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É. –û–Ω —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏.';
    }
    
    // –°–ø–∞—Å–∏–±–æ
    if (lowerMessage.includes('—Å–ø–∞—Å–∏–±–æ') || lowerMessage.includes('–±–ª–∞–≥–æ–¥–∞—Ä—é')) {
      return '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! ÔøΩÔøΩ –†–∞–¥ –ø–æ–º–æ—á—å. –ï—Å–ª–∏ –µ—Å—Ç—å –µ—â–µ –≤–æ–ø—Ä–æ—Å—ã - –∑–∞–¥–∞–≤–∞–π—Ç–µ!';
    }
    
    // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
    return '–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –Ø –ø–æ–º–æ–≥—É –Ω–∞–π—Ç–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã, –≤–∏–ª–ª—ã –∏ –∞—Ä–µ–Ω–¥—É –≤ –•—É—Ä–≥–∞–¥–µ. –ö–∞–∫–æ–π —Ç–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?';
  }

  static getArabicResponse(lowerMessage) {
    // ÿ™ÿ≠Ÿäÿ©
    if (lowerMessage.includes('ŸÖÿ±ÿ≠ÿ®ÿß') || lowerMessage.includes('ÿßŸÑÿ≥ŸÑÿßŸÖ ÿπŸÑŸäŸÉŸÖ') || lowerMessage.includes('ÿ£ŸáŸÑÿß')) {
      return 'ŸÖÿ±ÿ≠ÿ®ÿß! üëã ÿ£ŸÜÿß Zizuÿå ŸÖÿ≥ÿßÿπÿØŸÉ ÿßŸÑÿπŸÇÿßÿ±Ÿä ŸÅŸä ÿßŸÑÿ∫ÿ±ÿØŸÇÿ©. ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ŸÅŸä ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ¥ŸÇŸÇ ŸàŸÅŸäŸÑÿßÿ™ ŸàÿπŸÇÿßÿ±ÿßÿ™ ŸÑŸÑÿ•Ÿäÿ¨ÿßÿ±. ŸÉŸäŸÅ ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉÿü';
    }
    
    // ÿ¥ŸÇŸÇ
    if (lowerMessage.includes('ÿ¥ŸÇÿ©') || lowerMessage.includes('ÿ¥ŸÇŸÇ') || lowerMessage.includes('ÿ£ÿ®ÿßÿ±ÿ™ŸÖŸÜÿ™')) {
      return 'ŸÖŸÖÿ™ÿßÿ≤! ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ŸÅŸä ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿßŸÑÿ¥ŸÇÿ© ÿßŸÑŸÖŸÜÿßÿ≥ÿ®ÿ©. ÿ£ÿÆÿ®ÿ±ŸÜŸä:\n‚Ä¢ ŸÉŸÖ ÿ∫ÿ±ŸÅÿ© ŸÜŸàŸÖ ÿ™ÿ≠ÿ™ÿßÿ¨ÿü\n‚Ä¢ ÿ£Ÿä ŸÖŸÜÿ∑ŸÇÿ© ÿ™ŸÅÿ∂ŸÑÿü\n‚Ä¢ ŸÖÿß ŸáŸà ŸÖŸäÿ≤ÿßŸÜŸäÿ™ŸÉÿü\n\nÿ£Ÿà ŸÇŸÑ ÿ®ÿ®ÿ≥ÿßÿ∑ÿ© "ÿ£ÿ∏Ÿáÿ± ŸÑŸä ÿßŸÑÿ¥ŸÇŸÇ" ŸÑÿ±ÿ§Ÿäÿ© ÿßŸÑÿÆŸäÿßÿ±ÿßÿ™ ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©!';
    }
    
    // ŸÅŸäŸÑÿßÿ™
    if (lowerMessage.includes('ŸÅŸäŸÑÿß') || lowerMessage.includes('ÿ®Ÿäÿ™') || lowerMessage.includes('ŸÖŸÜÿ≤ŸÑ')) {
      return 'ÿ±ÿßÿ¶ÿπ! ŸÑÿØŸäŸÜÿß ŸÅŸäŸÑÿßÿ™ ÿ±ÿßÿ¶ÿπÿ© ŸÅŸä ÿßŸÑÿ∫ÿ±ÿØŸÇÿ©. Ÿàÿ∂ÿ≠ ŸÑŸä:\n‚Ä¢ ÿπÿØÿØ ÿ∫ÿ±ŸÅ ÿßŸÑŸÜŸàŸÖ\n‚Ä¢ ŸáŸÑ ÿ™ÿ≠ÿ™ÿßÿ¨ ŸÖÿ≥ÿ®ÿ≠ÿü\n‚Ä¢ ÿßŸÑŸÇÿ±ÿ® ŸÖŸÜ ÿßŸÑÿ®ÿ≠ÿ±\n‚Ä¢ ŸÖŸäÿ≤ÿßŸÜŸäÿ™ŸÉ\n\nÿ£Ÿà ŸÇŸÑ "ÿ£ÿ∏Ÿáÿ± ŸÑŸä ÿßŸÑŸÅŸäŸÑÿßÿ™" ŸÑÿ±ÿ§Ÿäÿ© ÿßŸÑÿÆŸäÿßÿ±ÿßÿ™ ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©!';
    }
    
    // ÿ•Ÿäÿ¨ÿßÿ±
    if (lowerMessage.includes('ÿ•Ÿäÿ¨ÿßÿ±') || lowerMessage.includes('ÿßÿ≥ÿ™ÿ¶ÿ¨ÿßÿ±') || lowerMessage.includes('ÿ™ÿ£ÿ¨Ÿäÿ±')) {
      return 'ŸÑŸÑÿπŸÇÿßÿ±ÿßÿ™ ÿßŸÑŸÖÿ§ÿ¨ÿ±ÿ©ÿå ÿ£ÿ≠ÿ™ÿßÿ¨ ŸÖÿπÿ±ŸÅÿ©:\n‚Ä¢ ŸÖÿØÿ© ÿßŸÑÿ•Ÿäÿ¨ÿßÿ±\n‚Ä¢ ÿπÿØÿØ ÿßŸÑÿ∂ŸäŸàŸÅ\n‚Ä¢ ÿßŸÑŸÖŸäÿ≤ÿßŸÜŸäÿ© ÿßŸÑÿ¥Ÿáÿ±Ÿäÿ©\n‚Ä¢ ÿ™ŸÅÿ∂ŸäŸÑÿßÿ™ ÿßŸÑŸÖŸÜÿ∑ŸÇÿ©\n\nÿ£Ÿà ŸÇŸÑ "ÿ£ÿ∏Ÿáÿ± ŸÑŸä ÿßŸÑÿ•Ÿäÿ¨ÿßÿ±" ŸÑÿ±ÿ§Ÿäÿ© ÿßŸÑÿÆŸäÿßÿ±ÿßÿ™ ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©!';
    }
    
    // ÿ®Ÿäÿπ
    if (lowerMessage.includes('ÿ®Ÿäÿπ') || lowerMessage.includes('ÿ¥ÿ±ÿßÿ°') || lowerMessage.includes('ŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™')) {
      return 'ÿ≥ÿ£ÿ≥ÿßÿπÿØŸÉ ŸÅŸä ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿßŸÑÿπŸÇÿßÿ± ÿßŸÑŸÖŸÜÿßÿ≥ÿ® ŸÑŸÑÿ¥ÿ±ÿßÿ°! ÿ£ÿÆÿ®ÿ±ŸÜŸä:\n‚Ä¢ ŸÜŸàÿπ ÿßŸÑÿπŸÇÿßÿ± (ÿ¥ŸÇÿ©/ŸÅŸäŸÑÿß)\n‚Ä¢ ÿπÿØÿØ ÿ∫ÿ±ŸÅ ÿßŸÑŸÜŸàŸÖ\n‚Ä¢ ÿßŸÑŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©\n‚Ä¢ ŸÖŸäÿ≤ÿßŸÜŸäÿ™ŸÉ\n\nÿ£Ÿà ŸÇŸÑ "ÿ£ÿ∏Ÿáÿ± ŸÑŸä ÿßŸÑÿ®Ÿäÿπ" ŸÑÿ±ÿ§Ÿäÿ© ÿßŸÑÿÆŸäÿßÿ±ÿßÿ™ ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©!';
    }
    
    // ÿ≥ÿπÿ±
    if (lowerMessage.includes('ÿ≥ÿπÿ±') || lowerMessage.includes('ÿ™ŸÉŸÑŸÅÿ©') || lowerMessage.includes('ÿ´ŸÖŸÜ')) {
      return 'ÿßŸÑÿ£ÿ≥ÿπÿßÿ± ÿ™ÿπÿ™ŸÖÿØ ÿπŸÑŸâ ÿπŸàÿßŸÖŸÑ ŸÉÿ´Ÿäÿ±ÿ©:\n‚Ä¢ ŸÜŸàÿπ ÿßŸÑÿπŸÇÿßÿ±\n‚Ä¢ ÿßŸÑŸÖŸàŸÇÿπ\n‚Ä¢ ÿßŸÑÿ≠ÿ¨ŸÖ\n‚Ä¢ ÿßŸÑÿ≠ÿßŸÑÿ©\n\nÿ£ÿÆÿ®ÿ±ŸÜŸä ÿπŸÜ ŸÖÿ™ÿ∑ŸÑÿ®ÿßÿ™ŸÉ Ÿàÿ≥ÿ£ÿ¨ÿØ ÿÆŸäÿßÿ±ÿßÿ™ ÿ™ŸÜÿßÿ≥ÿ® ŸÖŸäÿ≤ÿßŸÜŸäÿ™ŸÉ!';
    }
    
    // ÿßÿ™ÿµÿßŸÑ
    if (lowerMessage.includes('ÿßÿ™ÿµÿßŸÑ') || lowerMessage.includes('Ÿáÿßÿ™ŸÅ') || lowerMessage.includes('ŸÖÿØŸäÿ±')) {
      return 'ÿ®ÿßŸÑÿ∑ÿ®ÿπ! ÿ≥ÿ£ŸàÿµŸÑ ŸÑŸÉ ÿ®ŸÖÿØŸäÿ±ŸÜÿß ŸÅŸàÿ±ÿßŸã. ÿ≥Ÿäÿ™ÿµŸÑ ÿ®ŸÉ ÿÆŸÑÿßŸÑ 15 ÿØŸÇŸäŸÇÿ© ŸÖÿπ ÿ™ŸàÿµŸäÿßÿ™ ÿ¥ÿÆÿµŸäÿ©.';
    }
    
    // ÿ¥ŸÉÿ±
    if (lowerMessage.includes('ÿ¥ŸÉÿ±ÿß') || lowerMessage.includes('ÿ¥ŸÉÿ±ÿßŸã') || lowerMessage.includes('ŸÖÿ™ÿ¥ŸÉÿ±')) {
      return 'ÿπŸÅŸàÿßŸã! üòä ÿ≥ÿπŸäÿØ ÿ®ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ. ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÑÿØŸäŸÉ ÿßŸÑŸÖÿ≤ŸäÿØ ŸÖŸÜ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©ÿå ŸÅŸÇÿ∑ ÿßÿ≥ÿ£ŸÑ!';
    }
    
    // ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿä
    return 'ŸÖÿ´Ÿäÿ± ŸÑŸÑÿßŸáÿ™ŸÖÿßŸÖ! ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ŸÅŸä ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ¥ŸÇŸÇ ŸàŸÅŸäŸÑÿßÿ™ ŸàÿπŸÇÿßÿ±ÿßÿ™ ŸÑŸÑÿ•Ÿäÿ¨ÿßÿ± ŸÅŸä ÿßŸÑÿ∫ÿ±ÿØŸÇÿ©. ÿ£Ÿä ŸÜŸàÿπ ŸÖŸÜ ÿßŸÑÿπŸÇÿßÿ±ÿßÿ™ ÿ™ÿ®ÿ≠ÿ´ ÿπŸÜŸáÿü';
  }

  static getGermanResponse(lowerMessage) {
    // Begr√º√üung
    if (lowerMessage.includes('hallo') || lowerMessage.includes('guten tag') || lowerMessage.includes('hi')) {
      return 'Hallo! üëã Ich bin Zizu, Ihr Immobilienassistent in Hurghada. Ich kann Ihnen helfen, Wohnungen, Villen und Mietobjekte zu finden. Wie kann ich Ihnen helfen?';
    }
    
    // Wohnungen
    if (lowerMessage.includes('wohnung') || lowerMessage.includes('apartment') || lowerMessage.includes('appartement')) {
      return 'Gro√üartig! Ich kann Ihnen helfen, die perfekte Wohnung zu finden. Bitte sagen Sie mir:\n‚Ä¢ Wie viele Schlafzimmer ben√∂tigen Sie?\n‚Ä¢ Welches Gebiet bevorzugen Sie?\n‚Ä¢ Was ist Ihr Budget?\n\nOder sagen Sie einfach "zeige mir Wohnungen" f√ºr verf√ºgbare Optionen!';
    }
    
    // H√§user/Villen
    if (lowerMessage.includes('haus') || lowerMessage.includes('villa') || lowerMessage.includes('heim')) {
      return 'Ausgezeichnet! Wir haben wunderbare Villen in Hurghada. Bitte spezifizieren Sie:\n‚Ä¢ Anzahl der Schlafzimmer\n‚Ä¢ Ben√∂tigen Sie einen Pool?\n‚Ä¢ Entfernung zum Meer\n‚Ä¢ Ihr Budget\n\nOder sagen Sie "zeige mir Villen" f√ºr verf√ºgbare Optionen!';
    }
    
    // Miete
    if (lowerMessage.includes('miete') || lowerMessage.includes('vermietung') || lowerMessage.includes('mieten')) {
      return 'F√ºr Mietobjekte muss ich wissen:\n‚Ä¢ Mietdauer (kurz-/langfristig)\n‚Ä¢ Anzahl der G√§ste\n‚Ä¢ Monatliches Budget\n‚Ä¢ Gebietspr√§ferenzen\n\nOder sagen Sie "zeige mir Mietobjekte" f√ºr verf√ºgbare Optionen!';
    }
    
    // Kauf
    if (lowerMessage.includes('kauf') || lowerMessage.includes('kaufen') || lowerMessage.includes('verkauf')) {
      return 'Ich helfe Ihnen, die perfekte Immobilie zum Kaufen zu finden! Bitte sagen Sie mir:\n‚Ä¢ Immobilientyp (Wohnung/Villa)\n‚Ä¢ Anzahl der Schlafzimmer\n‚Ä¢ Bevorzugtes Gebiet\n‚Ä¢ Ihr Budget\n\nOder sagen Sie "zeige mir Verkaufsimmobilien" f√ºr verf√ºgbare Optionen!';
    }
    
    // Preis
    if (lowerMessage.includes('preis') || lowerMessage.includes('kosten') || lowerMessage.includes('teuer')) {
      return 'Preise h√§ngen von vielen Faktoren ab:\n‚Ä¢ Immobilientyp\n‚Ä¢ Lage\n‚Ä¢ Gr√∂√üe\n‚Ä¢ Zustand\n\nErz√§hlen Sie mir von Ihren Anforderungen, und ich finde Optionen in Ihrem Budget!';
    }
    
    // Kontakt
    if (lowerMessage.includes('kontakt') || lowerMessage.includes('telefon') || lowerMessage.includes('manager')) {
      return 'Nat√ºrlich! Ich verbinde Sie sofort mit unserem Manager. Er wird Sie innerhalb von 15 Minuten mit personalisierten Empfehlungen kontaktieren.';
    }
    
    // Danke
    if (lowerMessage.includes('danke') || lowerMessage.includes('vielen dank')) {
      return 'Gern geschehen! üòä Freut mich zu helfen. Wenn Sie weitere Fragen haben, fragen Sie einfach!';
    }
    
    // Standard
    return 'Interessant! Ich kann Ihnen helfen, Wohnungen, Villen und Mietobjekte in Hurghada zu finden. Welche Art von Immobilie suchen Sie?';
  }

  static getFrenchResponse(lowerMessage) {
    // Salutation
    if (lowerMessage.includes('bonjour') || lowerMessage.includes('salut') || lowerMessage.includes('bonsoir')) {
      return 'Bonjour! ÔøΩÔøΩ Je suis Zizu, votre assistant immobilier √† Hurghada. Je peux vous aider √† trouver des appartements, des villas et des locations. Comment puis-je vous aider?';
    }
    
    // Appartements
    if (lowerMessage.includes('appartement') || lowerMessage.includes('appart') || lowerMessage.includes('logement')) {
      return 'Parfait! Je peux vous aider √† trouver l\'appartement id√©al. Dites-moi:\n‚Ä¢ Combien de chambres avez-vous besoin?\n‚Ä¢ Quel quartier pr√©f√©rez-vous?\n‚Ä¢ Quel est votre budget?\n\nOu dites simplement "montrez-moi des appartements" pour voir les options disponibles!';
    }
    
    // Maisons/Villas
    if (lowerMessage.includes('maison') || lowerMessage.includes('villa') || lowerMessage.includes('demeure')) {
      return 'Excellent! Nous avons de magnifiques villas √† Hurghada. Pr√©cisez-moi:\n‚Ä¢ Nombre de chambres\n‚Ä¢ Avez-vous besoin d\'une piscine?\n‚Ä¢ Distance de la mer\n‚Ä¢ Votre budget\n\nOu dites "montrez-moi des villas" pour voir les options disponibles!';
    }
    
    // Location
    if (lowerMessage.includes('location') || lowerMessage.includes('louer') || lowerMessage.includes('rental')) {
      return 'Pour les biens en location, j\'ai besoin de savoir:\n‚Ä¢ Dur√©e de location (court/long terme)\n‚Ä¢ Nombre d\'invit√©s\n‚Ä¢ Budget mensuel\n‚Ä¢ Pr√©f√©rences de quartier\n\nOu dites "montrez-moi des locations" pour voir les options disponibles!';
    }
    
    // Achat
    if (lowerMessage.includes('achat') || lowerMessage.includes('acheter') || lowerMessage.includes('vente')) {
      return 'Je vous aiderai √† trouver la propri√©t√© parfaite √† acheter! Dites-moi:\n‚Ä¢ Type de propri√©t√© (appartement/villa)\n‚Ä¢ Nombre de chambres\n‚Ä¢ Quartier pr√©f√©r√©\n‚Ä¢ Votre budget\n\nOu dites "montrez-moi des ventes" pour voir les options disponibles!';
    }
    
    // Prix
    if (lowerMessage.includes('prix') || lowerMessage.includes('co√ªt') || lowerMessage.includes('cher')) {
      return 'Les prix d√©pendent de nombreux facteurs:\n‚Ä¢ Type de propri√©t√©\n‚Ä¢ Emplacement\n‚Ä¢ Taille\n‚Ä¢ √âtat\n\nParlez-moi de vos exigences, et je trouverai des options dans votre budget!';
    }
    
    // Contact
    if (lowerMessage.includes('contact') || lowerMessage.includes('t√©l√©phone') || lowerMessage.includes('gestionnaire')) {
      return 'Bien s√ªr! Je vous connecte imm√©diatement avec notre gestionnaire. Il vous contactera dans les 15 minutes avec des recommandations personnalis√©es.';
    }
    
    // Merci
    if (lowerMessage.includes('merci') || lowerMessage.includes('remerciement')) {
      return 'De rien! üòä Heureux de vous aider. Si vous avez d\'autres questions, demandez simplement!';
    }
    
    // Par d√©faut
    return 'Int√©ressant! Je peux vous aider √† trouver des appartements, des villas et des locations √† Hurghada. Quel type de propri√©t√© recherchez-vous?';
  }
}

module.exports = ChatbotService;